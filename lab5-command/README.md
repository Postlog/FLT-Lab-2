# Запуск
1. `pip install -r requirements.txt`

2. `./run_me.sh`

# Описание
Все определение графа можно разбить на 3 класса:
   * объявление узла (и переходов, исходящих из него)
   * объявление отдельного перехода
   * привязывание группы флагов к группе узлов

В начале правил для этих трех нетерминалов должны стоять индивидуальные метки, указывающие на принадлежность определения одному из трех классов. 

За каждым таким определением следует _statement\_separator_

Имеется возможность задавать строковые литералы (и не только) в виде регулярных выражений. [Подробнее тут](https://tatsu.readthedocs.io/en/stable/syntax.html). Просьба не увлекаться добавлением пробелов в строковые литералы, и вообще, стараться добавлять побольше разделителей - чтобы не было неоднозначностей разбора.

В принципе, пользователь может определять свои нетерминалы, но это явно не предусматривается (см. 1grammar.g4)

# Пользователю доступны для кастомизации

## Три главных логических определения:

### single_node_description
Задает структуру описания отдельного узла

Обязательно содержит:
   + _node\_id_
  
Опционально содержит:
   + всякий литеральный мусор и _key\_word\_i_
   + _node\_label_
   + _flag_
   + single_node_transits

Значение по умолчанию:
```
single_node_description = 
    'node'
    node_id 
    ['(' {flag | "label" "=" '"' node_label '"'}+')' ]
    ['{' single_node_transits '}']
    ;
```
<hr>

### single_node_transit
Задает структуру описания перехода от конкретного узла

Обязательно содержит:
   + _node\_id_
   + _alphabeht\_unit_
   + _stack\_pop\_symbol_
   + _stack\_push\_symbols_

Опционально содержит:
   + всякий литеральный мусор и/или _key\_word\_i_
   + _transiti\_flag_

Значение по умолчанию:
```
single_node_transit = '(' node_id alphabeth_unit stack_pop_symbol '/' {stack_push_symbol ','}* stack_push_symbol ['(' {transit_flag}* ')' ] ')';

```

<hr>

### single_edge_description
Задает структуру описания отдельного перехода

Обязательно содержит:
   + _node\_from_
   +  _node\_to_
   + _alphabeht\_unit_
   + _stack\_pop\_symbol_
   + _stack\_push\_symbols_

Опционально содержит:
   + всякий литеральный мусор и/или _key\_word\_i_
   + _transit\_flag_

Значение по умолчанию:
```
single_edge_description = 'edge' node_from '->' node_to alphabeth_unit 
                '[' stack_pop_symbol '/' {stack_push_symbol ','}* stack_push_symbol ']'
                ['(' {transit_flag ','}* transit_flag ')'] ;
```

<hr>

### group_of_nodes
Задает структуру описания группы узлов, меющих одинаковые флаги

Обязательно содержит:
   + _flag_
   + _node\_id_
  
Опционально содержит:
   + всякий литеральный мусор и/или _key\_word\_i_

Значение по умолчанию:
```
group_of_nodes = 'group' '(' {flag ',' }* flag ')' '{' {node_id}+ '}' ;
```

<hr>

## Строковые константы, отвечающие за флаги

### initial_flag
регулярное выражение из символов

Значение по умолчанию:```initial_flag = 'is_initial' ;```
### final_flag
регулярное выражение из символов

Значение по умолчанию:```final_flag = 'is_final' ;```
### trap_flag
регулярное выражение из символов

Значение по умолчанию:```trap_flag = 'is_trap' ;```
### stack_independency_flag
регулярное выражение из символов

Значение по умолчанию:```stack_independency_flag = 'is_stack_independent' ;```
### deterministic_flag
регулярное выражение из символов

Значение по умолчанию:```deterministic_flag = 'is_deterministic' ;```


<hr>

## Служебные символы и имена узлов

### node_label
Обязательно содержит один и только один _string\_literal\_i_

Значение по умолчанию:```node_label = string_literal_1 ;```

### node_id
Обязательно содержит один и только один _string\_literal\_i_

Значение по умолчанию:```node_id = string_literal_1 ;```

<hr>

### string_literal_i
Регулярный язык, задаваемый пользователем

Значение по умолчанию:```string_literal_1 = {/[a-z0-9_]/}+ ;```

### key_word_i
Какое-то ключевое слово. Всего пользователю доступно семь нетерминалов ключевых слов: 1-7

Регулярный язык, задаваемый пользователем

Лучше всего задать строковую константу или их альтернативу

Значение по умолчанию:``` key_word1 = 'kw1' ;```


### statement_separator
Символ, отделяющий логические блоки друг от друга

Регулярный язык, задаваемый пользователем

Лучше всего задать один символ, который нигде более не встретится

Значение по умолчанию:```statement_separator = ';' ;```

<hr>

## Алфавит и стэк

### alphabeth_symbol
Множество символов внешнего алфавита

Регулярный язык, задаваемый пользователем

Лучше всего задать множество однобуквенных слов

Значение по умолчанию:``` alphabeth_symbol = /[a-z]/ ;```

### eps_symbol
Символ для обозначения пустой строки внешнего алфавита

Регулярный язык, задаваемый пользователем

Лучше всего определить как одно слово

Значение по умолчанию:``` eps_symbol = 'eps' ;```

### any_symbol
Символ, обозначающий квантор всеобщности для символов внешнего алфавита

Регулярный язык, задаваемый пользователем

Лучше всего определить как одно слово

Значение по умолчанию:``` any_symbol = 'any' ;```

<hr>

### stack_symbol
Регулярный язык, задаваемый пользователем

Значение по умолчанию:``` stack_symbol = {/[A-Z]/}+{/[0-9]/}* ;```

### stack_any
Символ, обозначающий квантор всеобщности для стековых символов

Регулярный язык, задаваемый пользователем

Лучше всего определить как одно слово

Значение по умолчанию:``` stack_any = 'any' ;```

### stack_eps
Символ, пустую строку внутреннего алфавита

Регулярный язык, задаваемый пользователем

Лучше всего определить как одно слово

Значение по умолчанию:``` stack_eps = 'eps' ;```